Порядок виконання лабораторної роботи
1. Підготовка середовища
1.1. Запустіть Zookeeper та Kafka Server.
1.2. Створіть основний топік відповідно до вашого варіанту (назву та
кількість партицій замінити за завданням).
1.3. Створіть тестовий топік для експериментів з batch/linger.
1.4. Згенеруйте тестові дані у форматі JSON з параметрами вашого
варіанту (наприклад: irradiance, cloud_factorдля сонячних панелей;
wind_speed, rotor_rpm для вітрових турбін).
2. Дослідження впливу batch.size і linger.ms
2.1. Виконайте тести для комбінацій: batch.size = 16KB, 64KB, 256KB,
linger.ms = 0, 10, 50
2.2. Використовуйте свій тестовий топік.
2.3. Зробіть висновок: як змінюється latency і throughput залежно від
параметрів.
3. Тестування алгоритмів стискання
3.1. Виконайте тести для алгоритмів: none, snappy, lz4, zstd.
3.2. Для кожного алгоритму створіть окремий топік.

3.3. Порівняйте отриманий compression ratio і latency.
4. Дослідження впливу партиціонування
4.1. Створіть три топіки з різною кількістю партицій: 3, 6 та 12.
4.2. Використовуйте key-based партиціонування (наприклад, ключ
= device_id).
4.3. Зробіть висновок: як збільшення кількості партицій впливає на
throughput.
5. Аналіз результатів
5.1. Зведіть результати у таблиці або графіку (latency, throughput,
compression ratio).
5.2. Сформулюйте рекомендації для різних сценаріїв вашого варіанту:
o Real-time моніторинг – мінімальна затримка.
o Телеметрія – баланс latency/throughput.
o Архівування – максимальна ефективність зберігання.
6. Очищення середовища (при необхідності)
6.1. Зупиніть усі процеси Kafka та Zookeeper.
6.2. Видаліть тимчасові дані (логи).

Мій Варіант

Контекст системи:
· Кількість пристроїв: 4 ядерних реактора
· Частота передачі: Кожен реактор відправляє дані кожні 5 секунд
· Географія: Різні області України (координати: 47.0-52.0°N, 30.0-36.0°E)
· Особливості: Критична безпека, максимальна надійність, строгий
моніторинг

Структура даних (256 байт):

```
device_id: "REACTOR_ZA_1" до "REACTOR_RV_2";
power_output: 800.0-1000.0 МВт (потужність реактора)
efficiency: 32.0-35.0% (ККД енергоблока)
temperature: 285.0-295.0°C (температура теплоносія)
voltage: 21000.0-23000.0 В (напруга генератора)
current: 20000.0-28000.0 А (сила струму)
status: "normal", "maintenance", "startup", "shutdown"
location: lat 47.0-52.0, lon 30.0-36.0
maintenance_hours: 1000-8760 годин до планового ремонту
neutron_flux: 90.0-100.0% (рівень нейтронного потоку)
pressure: 150.0-160.0 атм (тиск у першому контурі)
rod_position: "75pct", "85pct", "95pct"; (позиція регулюючихстрижнів)
```

Параметри тестування:
· Максимальна надійність: acks=all, replication_factor=3
· Target throughput: 100 records/sec (менше пристроїв, критична якість)
· Фокус на fault tolerance та consistency

Етапи виконання:

ЕТАП 1: Підготовка (0-15 хв)
· Створити топіки з максимальною надійністю: nuclear-main (3 партиції, replication=3)
· Згенерувати 500 високоякісних тестових записів з reactor parameters
· Налаштувати acks=all та високі timeout значення для надійності

ЕТАП 2: Batch/Linger тестування (15-40 хв)
· Тестові комбінації: batch_sizes=(16384, 65536, 262144) × linger_ms=(0, 10, 50)
· Топік: nuclear-batch-test
· Критичні neutron_flux алерти: linger.ms=0 обов'язково
· Очікувані результати: latency <10ms для критичних параметрів
· Мета: максимальна надійність доставки з acks=all

ЕТАП 3: Compression тестування (40-60 хв)
· Алгоритми: none, snappy, lz4, zstd
· Топіки: nuclear-comp-none, nuclear-comp-snappy, nuclear-comp-lz4, nuclear-comp-zstd
· Дані reactor temperature дуже стабільні - відмінне стискання
· Пріоритет: надійність > compression efficiency
· none compression для критичних алертів обов&#39;язково
· Очікувані compression ratio: snappy=35-45%, lz4=40-50%, zstd=50-60%

ЕТАП 4: Партиціонування (60-75 хв)
· Тестові конфігурації: 3, 6, 9 партицій (з replication_factor=3)
· Топіки: nuclear-part-3, nuclear-part-6, nuclear-part-9
· Стратегія: по reactor_id для безпечної ізоляції
· Очікуване масштабування: фокус на надійності, а не на throughput
· Кожна партиція має 3 репліки для fault tolerance

ЕТАП 5: Аналіз та рекомендації (75-90 хв)
· Critical safety alerts: batch.size=16KB, linger.ms=0, compression=none, acks=all
· Normal telemetry: batch.size=32KB, linger.ms=5, compression=snappy
· Historical data: batch.size=256KB, linger.ms=30, compression=zstd
· Генерація звіту з neutron_flux safety алертами та надійністю системи

Критерії успіху:
· Латентність <10ms для neutron_flux та pressure алертів
· 100% delivery guarantee для всіх safety-critical повідомлень
· Fault tolerance при відмові 1 з 3 брокерів
